{"blocks":[{"type":"paragraph","data":{"text":"Invoking the GraphXR api&nbsp;"}},{"type":"codeTool","data":{"codeData":{"value":"api=(await require('@kineviz/graphxr-api@0.0.227')).getApi()","pinCode":true,"dname":"_1658339711641","codeMode":"javascript2","vimEnabled":false,"insertMode":false}}},{"type":"paragraph","data":{"text":"Fetching the properties of the node selected"}},{"type":"codeTool","data":{"codeData":{"value":"selectedNodes = api.observe('select',  () => {\n    let view = api.getLayoutGraph()\n    return view.getNodes()\n      .filter(n=>view.getNodeStyles(n.id).selected)\n  });","pinCode":true,"dname":"_1658339791917","codeMode":"javascript2","vimEnabled":false,"insertMode":false}}},{"type":"paragraph","data":{"text":"Assigning the fetched properties to selectedNodeProps"}},{"type":"codeTool","data":{"codeData":{"value":"selectedNodesProps = selectedNodes.map(n=>n.properties)","pinCode":true,"dname":"_1658339892342","codeMode":"javascript2","vimEnabled":false,"insertMode":false}}},{"type":"paragraph","data":{"text":"Instantiating the google object - Google Maps API retrieval"}},{"type":"codeTool","data":{"codeData":{"value":"google = await require('https://maps.googleapis.com/maps/api/js?key=<YOUR_API_KEY_HERE').catch(() => window.google)","pinCode":true,"dname":"_1658340260347","codeMode":"javascript2","vimEnabled":false,"insertMode":false}}},{"type":"paragraph","data":{"text":"Using the latitude and longitude from the selectedNode properties to dynamically render the Google Maps and Street View content"}},{"type":"codeTool","data":{"codeData":{"vimEnabled":false,"insertMode":false,"value":"Chart = {\n  let div = html`<div style='height:400px;'></div>`\n\n  const mapHolder = [0]\n  \n  yield div;\n  let map = new google.maps.Map(div, {\n    center: { lng: selectedNodesProps[0][\"longitude\"], lat: selectedNodesProps[0][\"latitude\"]},\n    zoom: 18\n  });\n  mapHolder[0] = map;\n let point=[{x:selectedNodesProps[0][\"longitude\"], y:selectedNodesProps[0][\"latitude\"]}]\n  point.map(\n    p =>\n      new google.maps.Marker({\n        position: { lng: p.x, lat: p.y },\n        map: mapHolder[0]\n      })\n  );\n}","pinCode":true,"dname":"_1658340311355","codeMode":"javascript2"}}}],"version":"2.19.1"}